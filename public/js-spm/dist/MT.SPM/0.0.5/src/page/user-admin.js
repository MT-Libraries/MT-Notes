define("MT.SPM/0.0.5/src/page/user-admin",[],function(e,o){var t="/user/admin/",n=function(){var o=e("MT.SPM/0.0.5/src/utils/common");o.addBaseTag(t);{var n=angular.module("ASS",["ui.router","ASS.post","ASS.mood","ASS.service"]);e("MT.SPM/0.0.5/src/page/admin/post/post"),e("MT.SPM/0.0.5/src/page/admin/mood/mood"),e("MT.SPM/0.0.5/src/page/admin/components/services/service")}n.config(["$stateProvider","$urlRouterProvider",function(e,o){o.otherwise("/post")}]),angular.bootstrap(document,["ASS"])};o.init=n}),define("MT.SPM/0.0.5/src/utils/common",[],function(e,o){o.addBaseTag=function(e){var o=document.createElement("base");o.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(o)}}),define("MT.SPM/0.0.5/src/page/admin/post/post",[],function(e,o,t){var n=angular.module("ASS.post",["ui.router"]);n.config(["$stateProvider","$urlRouterProvider",function(e){e.state("post",{url:"/post",views:{"":{templateUrl:"/public/js-spm/src/page/admin/post/layout.html",controller:"postCtrl"},"side@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.side.html"},"main@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.main.html",controller:"postMainCtrl"}}}).state("post.list",{url:"/list",views:{"main@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.list.html",controller:"postListCtrl"}}}).state("post.add",{url:"/add",views:{"main@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.add.html",controller:"postAddCtrl"}}}).state("post.rev",{url:"/rev/:pid",views:{"main@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.rev.html",controller:"postRevCtrl"}}})}]),n.controller("postCtrl",["$scope",function(e){e.menuList=[{name:"List Post",url:"post.list"},{name:"Add Post",url:"post.add"}]}]),n.controller("postMainCtrl",["$scope","postService",function(e){e.title="Post.Administrator"}]),n.controller("postListCtrl",["$scope","$state","postService",function(e,o,t){function n(){t.gets(r).then(function(o){e.post=o.data.posts,e.pageCount=o.data.pageCount,e.pageCount>r?(e.Pager=!0,e.Next=!0):e.Next=!1,e.Prev=r>1?!0:!1,console.log(o)})}var r=1;e.title="List all posts",n(),e.prevPage=function(){r>1&&(r--,n())},e.nextPage=function(){e.pageCount>r&&(r++,n())},e.del=function(e){console.log(e),t.del(e).then(function(e){console.log(e),e.auth?(alert(e.data.data.msg),o.reload()):alert(e.data.data.msg)})}}]),n.controller("postAddCtrl",["$scope","postService",function(e,o){e.title="Add a new post",e.categories=["Default","Document"],e.post={},e.post.category=e.categories[0],e.submitPostForm=function(t){t?(console.log(e.post),o.add(e.post).then(function(o){console.log(o),alert("success"),e.post={}})):alert("you need complete the form")}}]),n.controller("postRevCtrl",["$scope","$stateParams","postService",function(e,o,t){e.title="Revision an old post",e.categories=["Default","Document"];var n=o.pid;t.get(n).then(function(o){console.log(o),e.post=o.data.pageContent.post}),e.submitPostForm=function(o){o?(console.log(e.post),t.rev(n,e.post).then(function(e){console.log(e),alert(e.data.auth?e.data.data.msg:e.data.data.msg)})):alert("you need complete the form")}}]),t.exports=n}),define("MT.SPM/0.0.5/src/page/admin/mood/mood",[],function(e,o,t){var n=angular.module("ASS.mood",["ui.router"]);n.config(["$stateProvider","$urlRouterProvider",function(e){e.state("mood",{url:"/mood",views:{"":{templateUrl:"/public/js-spm/src/page/admin/mood/layout.html",controller:"moodCtrl"},"side@mood":{templateUrl:"/public/js-spm/src/page/admin/mood/mood.side.html"},"main@mood":{templateUrl:"/public/js-spm/src/page/admin/mood/mood.main.html",controller:"moodMainCtrl"}}}).state("mood.list",{url:"/list",views:{"main@mood":{templateUrl:"/public/js-spm/src/page/admin/mood/mood.list.html",controller:"moodListCtrl"}}}).state("mood.add",{url:"/add",views:{"main@mood":{templateUrl:"/public/js-spm/src/page/admin/mood/mood.add.html",controller:"moodAddCtrl"}}}).state("mood.rev",{url:"/rev/:mid",views:{"main@mood":{templateUrl:"/public/js-spm/src/page/admin/mood/mood.rev.html",controller:"moodRevCtrl"}}})}]),n.controller("moodCtrl",["$scope",function(e){e.menuList=[{name:"List Mood",url:"mood.list"},{name:"Add Mood",url:"mood.add"}]}]),n.controller("moodMainCtrl",["$scope","moodService",function(e){e.title="Mood.Administrator"}]),n.controller("moodListCtrl",["$scope","$state","moodService",function(e,o,t){function n(){t.gets(r).then(function(o){200===o.code&&(e.moods=o.data.moods,e.pageCount=o.data.pageCount),e.pageCount>r?(e.Pager=!0,e.Next=!0):e.Next=!1,e.Prev=r>1?!0:!1,console.log(o)})}e.title="List all moods";var r=1;n(),e.prevPage=function(){r>1&&(r--,n())},e.nextPage=function(){e.pageCount>r&&(r++,n())},e.del=function(e){console.log(e),t.del(e).then(function(e){console.log(e),e.data.auth?(alert(e.data.data.msg),o.reload()):alert(e.data.data.msg)})}}]),n.controller("moodAddCtrl",["$scope","moodService",function(e,o){e.title="Add a new mood",e.mood={},e.submitMoodForm=function(t){t?(console.log(e.mood),o.add(e.mood).then(function(o){console.log(o),alert("success"),e.mood={}})):alert("you need complete the form")}}]),n.controller("moodRevCtrl",["$scope","$stateParams","moodService",function(e,o,t){e.title="Revision an old mood";var n=o.mid;t.get(n).then(function(o){console.log(o),e.mood=o.pageContent.mood}),e.submitMoodForm=function(o){o?(console.log(e.mood),t.rev(n,e.mood).then(function(e){console.log(e),alert(e.data.auth?e.data.data.msg:e.data.data.msg)})):alert("you need complete the form")}}]),t.exports=n}),define("MT.SPM/0.0.5/src/page/admin/components/services/service",[],function(e,o,t){{var n=angular.module("ASS.service",["ASS.service.postService","ASS.service.moodService","ASS.service.ajaxService"]);e("MT.SPM/0.0.5/src/page/admin/components/services/postService"),e("MT.SPM/0.0.5/src/page/admin/components/services/moodService"),e("MT.SPM/0.0.5/src/page/admin/components/services/ajaxService")}t.exports=n}),define("MT.SPM/0.0.5/src/page/admin/components/services/postService",[],function(e,o,t){var n="/api/blog",r=e("MT.SPM/0.0.5/src/utils/cookie"),s=angular.module("ASS.service.postService",[]).factory("postService",["ajaxService",function(e){function o(o){function t(){var e=JSON.parse(r.getItem("MT.User").replace("j:",""));return e&&e.email?(console.log(e.email),e.email):"anonymous"}return o.author=t(),e.post(n+"/post",o)}function t(o){return e.del(n+"/post/"+o)}function s(o,t){return e.put(n+"/post/"+o,t)}function a(o){return e.get(n+"/get/"+o)}function i(o){return e.get(n+"/gets/"+o)}return{add:o,del:t,rev:s,get:a,gets:i}}]);t.exports=s}),define("MT.SPM/0.0.5/src/utils/cookie",[],function(e,o,t){var n={getItem:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,o,t,n,r,s){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(t)switch(t.constructor){case Number:a=1/0===t?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+t;break;case String:a="; expires="+t;break;case Date:a="; expires="+t.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+a+(r?"; domain="+r:"")+(n?"; path="+n:"")+(s?"; secure":""),!0},removeItem:function(e,o,t){return this.hasItem(e)?(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(o?"; path="+o:""),!0):!1},hasItem:function(e){return e?new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),o=e.length,t=0;o>t;t++)e[t]=decodeURIComponent(e[t]);return e}};t.exports=n}),define("MT.SPM/0.0.5/src/page/admin/components/services/moodService",[],function(e,o,t){var n="/api/moods",r=e("MT.SPM/0.0.5/src/utils/cookie"),s=angular.module("ASS.service.moodService",[]).factory("moodService",["ajaxService",function(e){function o(o){function t(){var e=JSON.parse(r.getItem("MT.User").replace("j:",""));return e&&e.email?(console.log(e.email),e.email):"anonymous"}return o.author=t(),e.post(n+"/mood",o)}function t(o){return e.del(n+"/mood/"+o)}function s(o,t){return e.put(n+"/mood/"+o,t)}function a(o){return e.get(n+"/get/"+o)}function i(o){return e.get(n+"/gets/"+o)}return{add:o,del:t,rev:s,get:a,gets:i}}]);t.exports=s}),define("MT.SPM/0.0.5/src/page/admin/components/services/ajaxService",[],function(e,o,t){var n=angular.module("ASS.service.ajaxService",[]).factory("ajaxService",["$http",function(e){function o(o,t){var n=e.post(o,t).then(function(e){return e.data});return n}function t(o){var t=e.get(o).then(function(e){return e.data});return t}function n(o){var t=e.delete(o).then(function(e){return e.data});return t}function r(o,t){var n=e.put(o,t).then(function(e){return e.data});return n}return{post:o,get:t,del:n,put:r}}]);t.exports=n});